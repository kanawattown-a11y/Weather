<div id="weather"></div>

<script>
  const apiKey = "0eca6de9a1fd093a0c3d06f0ede78a87";
  const city = "As-Suwayda";
  const units = "metric";

  async function getWeather() {
    const url = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=${units}&appid=${apiKey}`;

    try {
      const response = await fetch(url);
      const data = await response.json();

      if (data.cod !== 200) {
        document.getElementById("weather").innerHTML = "تعذر جلب حالة الطقس.";
        return;
      }

      const temp = data.main.temp;
      const description = data.weather[0].description;
      const icon = data.weather[0].icon;
      const iconUrl = `https://openweathermap.org/img/wn/${icon}@2x.png`;

      document.getElementById("weather").innerHTML = `
        <div style="text-align: center;">
          <h3>الطقس في ${city}</h3>
          <img src="${iconUrl}" alt="Weather icon">
          <p>${description}</p>
          <p>درجة الحرارة: ${temp}°C</p>
        </div>
      `;
    } catch (error) {
      document.getElementById("weather").innerHTML = "حدث خطأ أثناء جلب البيانات.";
    }
  }

  getWeather();
</script>
